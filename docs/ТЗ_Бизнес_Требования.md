# Техническое задание: Мобильное приложение "Ассистент ветеринара"

## Часть 1: Бизнес-требования (для не-технических специалистов)

### 1. Что это за приложение и зачем оно нужно?

**"Ассистент ветеринара"** — это мобильное приложение для ветеринарных врачей, которое помогает быстро и удобно создавать протоколы осмотра животных. Вместо того чтобы вручную заполнять бумажные бланки или печатать на компьютере, врач может просто **продиктовать результаты осмотра голосом**, и приложение само превратит речь в аккуратный протокол.

**Основная ценность:**
- Экономия времени врача (не нужно печатать или писать от руки)
- Меньше ошибок (приложение проверяет данные и уточняет непонятное)
- Удобство работы на выезде (всё в телефоне, не нужен компьютер)
- Профессиональный вид протоколов (аккуратные PDF-файлы)

---

### 2. Кто будет использовать приложение?

**Основные пользователи:**
- Ветеринарные врачи всех специализаций (кардиологи, УЗИ-специалисты, стоматологи и др.)
- Врачи, работающие в клиниках
- Врачи, работающие на выезде (выездная служба)

**Дополнительные пользователи:**
- Администраторы клиник (для настройки шаблонов протоколов)

---

### 3. Что может делать врач в приложении?

#### 3.1. Работа с пациентами

Врач может:
- **Добавлять новых пациентов** (животных) в базу данных:
  - Основная информация: вид животного (собака, кошка и т.д.), порода, кличка, пол, окрас
  - Идентификация: номер чипа, описание татуировки
  - Данные владельца: ФИО, телефон, email
- **Искать пациентов**:
  - Поиск по кличке животного
  - Поиск по номеру чипа
  - Поиск по ФИО владельца
  - Поиск голосом (можно продиктовать кличку или номер чипа)
- **Просматривать историю осмотров** каждого пациента

**Ограничения:**
- Бесплатная версия: до 10 пациентов
- Платная версия: неограниченное количество пациентов

#### 3.2. Создание протоколов осмотра

**Как это работает:**

1. **Выбор пациента** — врач находит нужное животное в базе (поиск или голосом)

2. **Выбор типа осмотра** — врач выбирает, какой протокол нужно создать:
   - Кардиология (осмотр сердца, ЭКГ)
   - УЗИ (ультразвуковое исследование органов)
   - Стоматология (осмотр зубов и полости рта)

3. **Запись анамнеза** — врач может внести анамнез в протокол осмотра:
   - **Голосом**: продиктовать анамнез (жалобы владельца, сведения о перенесённых заболеваниях, текущая терапия, условия содержания и т.д.) — приложение распознает речь и сохраняет текст
   - **Вручную**: ввести или отредактировать текст анамнеза в поле протокола
   - Анамнез сохраняется в протоколе и включается в итоговый PDF
   - В интерфейсе и в PDF анамнез выводится отдельной секцией после данных о пациенте и перед данными осмотра
   - Заполнение анамнеза необязательно; его можно добавить или изменить в любой момент до сохранения протокола

4. **Запись или загрузка аудио** — врач может:
   - Записать голосовое сообщение прямо в приложении (диктовать результаты осмотра)
   - Загрузить уже записанный аудиофайл с телефона

5. **Автоматическое распознавание** — приложение:
   - Превращает речь в текст
   - Само находит в тексте нужные данные (например, "ЧСС 120", "ритм синусовый")
   - Заполняет форму протокола автоматически

6. **Уточнение данных** — если приложение что-то не поняло или не уверено:
   - Приложение задаёт вопросы по шаблону (например: "Какой ритм?")
   - Врач может ответить голосом или ввести вручную

6. **Привязка фотографий** — врач может:
   - Добавить фотографии к протоколу (сделать фото камерой или выбрать из галереи)
   - Добавить краткое описание к каждой фотографии (например: "ЭКГ от 15.01.2026", "УЗИ печени", "Рентген зуба")
   - Просмотреть все прикреплённые фотографии
   - Удалить ненужные фотографии
   - Это особенно полезно для привязки фото протоколов от других приборов (ЭКГ-аппараты, УЗИ-сканеры, рентген-аппараты и т.д.)

8. **Ручное редактирование** — врач может в любой момент:
   - Исправить данные вручную (написать или изменить)
   - Добавить недостающую информацию
   - Исправить ошибки распознавания

9. **Проверка данных** — перед сохранением приложение:
   - Проверяет, все ли обязательные поля заполнены
   - Проверяет, что значения в правильных диапазонах (например, ЧСС не может быть 500)
   - Подсвечивает проблемные поля жёлтым (предупреждение) или красным (ошибка)
   - Врач может исправить проблемные поля или сохранить с предупреждениями

9. **Сохранение протокола** — приложение:
   - Сохраняет протокол в базу данных на телефоне
   - Сохраняет все прикреплённые фотографии
   - Автоматически создаёт PDF-файл протокола (фотографии включаются в PDF)

11. **Работа с готовым протоколом** — врач может:
   - Просмотреть протокол в приложении
   - Сохранить PDF на телефон
   - Отправить PDF владельцу животного по email (автоматически берётся из данных пациента)
   - Поделиться PDF через другие приложения (WhatsApp, Telegram, облако и т.д.)
   - Распечатать протокол (если принтер поддерживается)

#### 3.3. Виды протоколов (что входит в каждый тип осмотра)

**Кардиология:**
- Анамнез (жалобы, перенесённые заболевания, текущая терапия)
- Основные показатели: частота сердечных сокращений (ЧСС), ритм, тоны сердца, шумы
- Артериальное давление (АД)
- Данные ЭКГ (электрокардиограммы): ритм, интервалы, отклонения
- Заключение и рекомендации

**УЗИ:**
- Анамнез (жалобы, показания к исследованию, предварительный диагноз)
- Параметры по системам органов (сердце, печень, почки, мочевой пузырь и т.д.)
- Размеры органов (в миллиметрах)
- Описание структуры, эхогенности
- Наличие патологий (кисты, камни, новообразования и т.д.)
- Заключение и рекомендации

**Стоматология:**
- Анамнез (жалобы, сведения о питании, предыдущем лечении зубов)
- Графическая карта зубов (схема с возможностью отметить состояние каждого зуба)
- Описание состояния дёсен, прикуса
- Обнаруженные проблемы (кариес, переломы, отсутствующие зубы и т.д.)
- Пародонтальные показатели (глубина карманов, рецессия)
- Заключение и план лечения

**Важно:** В будущем можно будет добавлять новые типы протоколов (например, неврология, офтальмология) без переделки всего приложения.

---

### 4. Что может делать администратор в приложении?

**Администратор** — это отдельная роль в приложении (вход по паролю/пин-коду). Администратор может:

- **Редактировать шаблоны протоколов:**
  - Изменять список полей в протоколах
  - Добавлять или удалять параметры
  - Менять названия полей
  - Настраивать, какие поля обязательные, а какие нет

- **Настраивать справочники:**
  - Виды животных (собака, кошка, хомяк и т.д.)
  - Породы
  - Статусы зубов (здоров, кариес, перелом и т.д.)
  - Другие справочные данные

- **Настраивать правила проверки данных:**
  - Указывать допустимые диапазоны значений (например, ЧСС от 40 до 240)
  - Настраивать, что считается ошибкой, а что только предупреждением

- **Загружать новые версии шаблонов:**
  - Импортировать обновлённые шаблоны протоколов из файла
  - Обновлять шаблоны без обновления всего приложения

---

### 5. Как работает распознавание речи?

**Варианты работы (гибридный режим):**

Приложение умеет работать в трёх режимах и автоматически выбирает лучший:

1. **Облачное распознавание** (по умолчанию, если есть интернет):
   - Высокое качество распознавания
   - Требует интернет-соединение
   - Быстро работает

2. **Приватное облако** (если настроен собственный сервер):
   - Данные не уходят в чужие облака
   - Высокое качество
   - Требует подключение к серверу клиники

3. **Офлайн-режим** (работает без интернета):
   - Распознавание происходит прямо на телефоне
   - Не требует интернет
   - Может работать чуть медленнее или с чуть меньшей точностью на старых телефонах
   - Идеально для работы на выезде без интернета

**Как это выглядит для врача:**
- Врач просто диктует — приложение само выбирает лучший способ распознавания
- Если нет интернета, приложение автоматически переключается на офлайн-режим
- Врач может в настройках выбрать "только офлайн" для максимальной приватности

---

### 6. Безопасность и приватность данных

- **Все данные хранятся локально на телефоне** — протоколы, база пациентов, аудиозаписи
- **Аудио можно не отправлять в облако** — если врач выберет офлайн-режим, всё обрабатывается на телефоне
- **Экспорт данных** — врач может выгрузить всю базу данных в файл (для резервной копии или переноса на другой телефон)
- **Импорт данных** — можно загрузить базу данных из файла (восстановление или перенос)

---

### 7. Требования к устройству

**Минимальные требования:**
- Android 8.0 или новее
- iOS 13.0 или новее
- 3-4 ГБ оперативной памяти (RAM)
- Свободное место: ~200 МБ для приложения + место для аудио и PDF

**Рекомендуемые требования:**
- Современный смартфон (2020 года или новее)
- 4+ ГБ оперативной памяти
- Для комфортной работы офлайн-режима желателен более мощный телефон

---

### 8. Платные функции (премиум-версия)

**Бесплатная версия:**
- До 10 пациентов
- Все функции создания протоколов
- Все типы протоколов (кардиология, УЗИ, стоматология)

**Платная версия:**
- Неограниченное количество пациентов
- Возможность добавлять собственные типы протоколов
- Приоритетная поддержка
- Дополнительные функции (по мере развития приложения)

---

### 9. Что будет в первой версии (MVP)?

**В первой версии приложение будет уметь:**

✅ Работа с пациентами (добавление, поиск, просмотр истории)  
✅ Три типа протоколов: кардиология, УЗИ, стоматология  
✅ Запись и загрузка аудио  
✅ Распознавание речи (облачное + офлайн)  
✅ Автоматическое заполнение протоколов из речи  
✅ Уточнение непонятных данных  
✅ Запись анамнеза в протокол (голосом или вручную)  
✅ Привязка фотографий к протоколу с описанием  
✅ Ручное редактирование протоколов  
✅ Проверка данных (валидация)  
✅ Создание PDF-протоколов (с включением фотографий)  
✅ Сохранение и отправка PDF  
✅ Поиск пациентов (текст + голос)  
✅ Административный режим (редактирование шаблонов)  
✅ Экспорт/импорт базы данных  

**Что будет добавлено позже:**
- Дополнительные типы протоколов (неврология, офтальмология и др.)
- Облачное хранилище протоколов (синхронизация между устройствами)
- Мультипользовательский доступ (для клиник)
- Другие языки распознавания (пока только русский)

---

### 10. Критерии успеха приложения

Приложение считается успешным, если:
- Врач может создать протокол быстрее, чем вручную (цель: в 2-3 раза быстрее)
- Протоколы получаются аккуратными и профессиональными
- Приложение работает стабильно без ошибок
- Врач может работать без интернета (офлайн-режим)
- Данные пациентов в безопасности

---

## Резюме для руководства

**Что делает приложение:**
Мобильный помощник для ветеринаров, который превращает голосовые диктовки в аккуратные протоколы осмотра животных.

**Ключевые преимущества:**
- Экономия времени врача
- Профессиональный вид документов
- Работа без интернета
- Безопасность данных

**Целевая аудитория:**
Ветеринарные врачи всех специализаций (кардиологи, УЗИ-специалисты, стоматологи).

**Первый этап (MVP):**
Три типа протоколов (кардиология, УЗИ, стоматология), распознавание речи, создание PDF, работа офлайн.

**Монетизация:**
Бесплатная версия (до 10 пациентов) + платная версия (неограниченно).
