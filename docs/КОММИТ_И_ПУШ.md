# Коммит и пуш в облако после тестирования артефакта

Краткая последовательность: **протестировали артефакт** → **коммит в основную ветку** → **пуш в облако**.

---

## Быстро в Cursor

| Действие | Как вызвать |
|----------|-------------|
| **Открыть панель Git** | `Ctrl+Shift+G` (Source Control) |
| **Подтянуть main** | Панель Git → кнопка `...` → **Pull** или Command Palette (`Ctrl+Shift+P`) → `Git: Pull` |
| **Переключиться на main** | В левом нижнем углу клик по названию ветки → выбрать `main`, или Command Palette → `Git: Checkout to...` |
| **Добавить все в stage** | В панели Git нажать `+` рядом с «Changes» или `Ctrl+Enter` после выбора файлов |
| **Коммит** | Ввести сообщение в поле сверху (например, `fix(VET-055): описание`) → нажать **Commit** или `Ctrl+Enter` |
| **Пуш** | В панели Git кнопка **Sync** (стрелки) или **Push** в меню `...`, либо Command Palette → `Git: Push` |

**Command Palette** (`Ctrl+Shift+P`) — быстрый ввод: `Git: Pull`, `Git: Push`, `Git: Commit`, `Git: Checkout to...`.

Перед коммитом убедитесь, что активна ветка **main** (показана в левом нижнем углу).

---

## 1. Проверка перед коммитом

- [ ] Артефакт протестирован (сборка, прогон сценария, при необходимости — тесты).
- [ ] Код проходит `flutter analyze`.
- [ ] При необходимости обновлены [ARTIFACTS.md](ARTIFACTS.md) и [BUGS.md](BUGS.md) (статус бага/задачи).

---

## 2. Коммит в основную ветку

```bash
# Убедиться, что вы на main и она актуальна
git checkout main
git pull origin main

# Добавить изменённые файлы
git add .

# Или выборочно:
# git add lib/ docs/ ...

# Коммит с указанием ID артефакта (см. docs/ARTIFACTS.md)
git commit -m "fix(VET-XXX): краткое описание изменения"
# или feat(VET-XXX): ... / docs(VET-XXX): ...
```

Формат сообщения: **`<тип>(VET-NNN): описание`** (feat, fix, docs, refactor и т.д.).

---

## 3. Пуш в облачный репозиторий

```bash
git push origin main
```

Если настроен upstream:

```bash
git push
```

---

## 4. После пуша

- При использовании GitLab CI: пайплайн запустится на `main` (analyze, test).
- Для багов: статус на **закрыто** обновляйте только вы сами, после своей проверки; автоматически артефакты в «закрыто» не переводить.

---

Подробнее: [CONTRIBUTING.md](../CONTRIBUTING.md), реестр артефактов — [ARTIFACTS.md](ARTIFACTS.md).
